Object.defineProperty(exports,'__esModule',{value:true});exports.$delete=exports.$put=exports.$post=exports.$get=undefined;var _regenerator=require('babel-runtime/regenerator');var _regenerator2=_interopRequireDefault(_regenerator);var _config=require('./config');var _config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj}}var request=function(){var _this=this;function _callee(uri,method,body){var res,json;return _regenerator2['default'].async(function(){function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regenerator2['default'].awrap(fetch(String(_config2['default'])+'/'+String(uri),{method:method,credentials:'same-origin',headers:{'Content-Type':'application/json'},body:body}));case 2:res=_context.sent;_context.next=5;return _regenerator2['default'].awrap(res.json());case 5:json=_context.sent;if(res.ok){_context.next=8;break}throw json;case 8:return _context.abrupt('return',json);case 9:case'end':return _context.stop();}}}return _callee$}(),null,_this)}return _callee}();var $get=function(){var _this2=this;function _callee2(uri){return _regenerator2['default'].async(function(){function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt('return',request(uri,'GET'));case 1:case'end':return _context2.stop();}}}return _callee2$}(),null,_this2)}return _callee2}();var $post=function(){var _this3=this;function _callee3(uri,body){return _regenerator2['default'].async(function(){function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:return _context3.abrupt('return',request(uri,'POST',body));case 1:case'end':return _context3.stop();}}}return _callee3$}(),null,_this3)}return _callee3}();var $put=function(){var _this4=this;function _callee4(uri,body){return _regenerator2['default'].async(function(){function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:return _context4.abrupt('return',request(uri,'PUT',body));case 1:case'end':return _context4.stop();}}}return _callee4$}(),null,_this4)}return _callee4}();var $delete=function(){var _this5=this;function _callee5(uri,body){return _regenerator2['default'].async(function(){function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:return _context5.abrupt('return',request(uri,'DELETE',body));case 1:case'end':return _context5.stop();}}}return _callee5$}(),null,_this5)}return _callee5}();exports.$get=$get;exports.$post=$post;exports.$put=$put;exports.$delete=$delete;